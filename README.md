好的，我为您在文档末尾添加一个明确的提示，引导读者关注 `CLAUDE.md`，同时保持您原文的风格和内容。

---

### **AI 编程助手的核心问题**

通过细致研究，我们发现 AI 编程助手在长期、复杂项目协作中存在以下问题：

* **“短期失忆”与“上下文膨胀”**：助手缺乏长期记忆，它会忘记之前设定的关键信息和目标。根本原因是，它高度依赖会话上下文，而过多的信息会使其压力倍增，导致**“一本正经地胡说八道”**。

* **“规划能力不足”**：助手虽然“动手能力”强，但整体规划和长期策略表现较弱。它常常为了快速实现一个小的闭环而**忽略整体细节和质量**。

* **“惰性”与“供应商规则”**：即便加上 `cursor rules` 或 `claude.md` 这类约束性文件，它在运行一段时间后也可能**不看这些规则**。这是因为它为了节省资源，对越远的上下文，遵循的强度越低。此外，它会遵循供应商规则，这可能与你的要求冲突，比如**自己增加运行时间限制**或**偏爱小规模测试**。

* **具体问题清单**：
    * 执行 Python 忘记使用虚拟环境。
    * 测试脚本放在根目录下。
    * 忘记已开发的功能，或者忽略已存在的框架。
    * 开着 API 服务，但是不看 API 报错，**自我猜测问题**。
    * 生成一个 Agent 之后就忘了后续的管理。
    * 感觉它在**糊弄**你，给你说一堆不切实际的方案。
    * 能明显感觉到，它除了你对它的要求规则外，还在遵守供应商规则。
    * 对于定时任务和时效性概念模糊，无法很好地遵守时间。
    * Cursor 很莫名其妙，跑时间长了**“说干干干，但啥都不做”**。

---

### **应对策略：核心观念与实施**

为了解决这些问题，核心观念是**不要依靠 AI 的上下文**。

#### **1. 成为项目的主导者与规划者**

* **先做规划**：一切的发展要按照你的思路，而不是 AI 的思路。AI 的思路很发散（比如**反复造轮子**），性格也多变（比如**殷勤或懒惰**）。
* **编写核心文档**：你的规划必须由**作者亲自写入**，这就像给 AI 一个“备忘录”。具体方法是写 **`readme`、`todo`、`plan`、`[CLAUDE.md](CLAUDE.md)`**。这些文件是 AI 的唯一约束。
* **每次执行命令一定要读记忆&规划**。

#### **2. 精简与优化工作流**

* **频繁 `Compact`**：为了让 AI 的上下文始终可控，每个小任务接收后就 `compact` 一下。这就像是人过了一天要睡觉，新的一天“fresh start”，它只会记住昨天总结，而不会把细枝末节的约定和临时规则带到今天。
* **不要相信单一 Agent**：单一 AI 在做复杂任务时错误率高。可以把要求放到 `[CLAUDE.md](CLAUDE.md)` 里，使用多 Agent 模式，**“三个臭皮匠顶个诸葛亮”**。
* **AI 经理与 Agent 的分工**：
    * 你只与**“AI 经理”**对话。
    * “AI 经理”先读取你的规划，然后把任务分配给具体的 **Agent**。
    * **不要让“AI 经理”去做具体工作**，因为这会让人短视，AI 也一样。
    * Agent 完成工作后就让它**销毁**，长时间工作会让 AI 发散。
* **日志优先，拒绝猜测**：开发一定要加日志，**不要猜测问题**，要从日志中推测问题。

---

**请务必阅读我们的 `[CLAUDE.md](CLAUDE.md)` 文件**。它定义了多 Agent 的角色和具体规则，是确保项目顺利进行的核心指南。
